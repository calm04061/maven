(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d32d2"],{"5c3a":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{id:"dashboard",fluid:"",tag:"section"}},[e("v-select",{attrs:{items:t.platforms,label:"平台","item-text":"name","item-value":"id",clearable:""},model:{value:t.query.platformId,callback:function(a){t.$set(t.query,"platformId",a)},expression:"query.platformId"}}),e("v-chart",{staticClass:"chart",staticStyle:{height:"450px"},attrs:{option:t.option,autoresize:""}}),e("v-snackbar",{attrs:{light:!0,top:!0},scopedSlots:t._u([{key:"action",fn:function(a){var n=a.attrs;return[e("v-btn",t._b({attrs:{color:"pink",text:""},on:{click:function(a){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(a){t.snackbar=a},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},o=[],r=(e("d3b7"),e("159b"),e("d9e2"),{name:"Dashboard",mounted:function(){this.listPlatform(),this.analysisData()},data:function(){return{query:{platformId:""},platforms:[],snackbar:!1,text:"Hello, I'm a snackbar",option:null}},watch:{"query.platformId":{handler:function(t,a){t!=a&&this.analysisData()},deep:!0}},methods:{complete:function(t){this.list[t]=!this.list[t]},analysisData:function(){var t=this,a="/api/finance/analysis?days=20";t.query.platformId&&(a=a+"&platformId="+t.query.platformId),fetch(a,{redirect:"manual"}).then(t.check302).then((function(t){return t.json()})).then(t.webResult).then((function(a){var e=[],n=[],o=[],r=0;a.forEach((function(t){e.push(t.amountTime),n.push(t.amount),o.push(t.amount-r),r=t.amount})),o[0]=0,t.option={xAxis:{data:e},tooltip:{formatter:" {b} : {c}￥",trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},yAxis:[{type:"value",name:"余额",axisLabel:{formatter:"{value} ￥"}},{type:"value",name:"日差",axisLabel:{formatter:"{value} ￥"}}],series:[{data:n,type:"line",smooth:!0,name:"余额"},{data:o,type:"bar",smooth:!0,name:"日差",label:{show:!0,position:"top"}}]}}))},listPlatform:function(){var t=this;fetch("/api/finance/platform/list").then(t.check302).then((function(t){return t.json()})).then(t.webResult).then((function(a){t.platforms=a}))},webResult:function(t){if(0==t.code)return t.data;throw new Error(t.message)},check302:function(t){if("opaqueredirect"==t.type){t.headers["location"];console.log(t.headers)}return t}}}),s=r,i=e("2877"),l=e("6544"),c=e.n(l),u=e("8336"),f=e("a523"),p=e("b974"),h=e("2db4"),m=Object(i["a"])(s,n,o,!1,null,null,null);a["default"]=m.exports;c()(m,{VBtn:u["a"],VContainer:f["a"],VSelect:p["a"],VSnackbar:h["a"]})}}]);